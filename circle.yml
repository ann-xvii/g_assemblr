machine:
  environment:
    aws_access_key_id: ENV['LINKEDIN_KEY']
    aws_secret_access_key: ENV['LINKEDIN_SECRET']


dependencies:
  override:
    - bundle install:
        timeout: 240
        environment:
          aws_access_key_id: ENV['LINKEDIN_KEY']
          aws_secret_access_key: ENV['LINKEDIN_SECRET']

deployment:
  staging:
    branch: master
    heroku:
      appname: generalassemblr
    codedeploy:
      appname-1234:
        application_root: /
        region: us-east-1
        revision_location:
          revision_type: S3
          s3_location:
            bucket: generalassemblr
            key_pattern: appname-1234-{BRANCH}-{SHORT_COMMIT}